<div
	class="modal fade"
	id="setUsernameModal"
	tabindex="-1"
	aria-labelledby="setUsernameModalLabel"
	aria-hidden="true"
>
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content">
			<div class="modal-header border-bottom-0">
				<h5 class="modal-title" id="setUsernameModalLabel">
					<i class="bi bi-person-check me-1"></i> <%=
					__('auth.complete_profile') %>
				</h5>
				<button
					type="button"
					class="btn-close"
					data-bs-dismiss="modal"
					aria-label="Close"
				></button>
			</div>

			<div class="modal-body">
				<% if (typeof token !== 'undefined') { %>
				<!-- 🔐 Email signup -->
				<form action="/auth/complete" method="POST">
					<input
						id="token"
						type="hidden"
						name="token"
						value="<%= token %>"
					/>
					<%- include('_setUsernameWithPassword') %>
				</form>
				<% } else { %>
				<!-- 🌐 OAuth -->
				<form action="/auth/complete" method="POST">
					<%- include('_setUsernameOnly') %>
				</form>
				<% } %>
			</div>
		</div>
	</div>
</div>

<script src="/js/index/commonPasswords.js" defer></script>
<script src="/js/index/password.js" defer></script>
