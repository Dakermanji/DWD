<section class="container py-5">
	<h1 class="mb-4 text-center"><%= __('dashboard.title') %></h1>

	<div class="row mb-5">
		<div
			id="user-info"
			class="col-md-6 offset-md-3 bg-light rounded shadow p-4"
		>
			<h4><%= __('dashboard.account_info') %></h4>
			<ul class="list-unstyled">
				<li id="username-block">
					<strong><%= __('dashboard.username') %>:</strong>

					<span id="username-value"><%= user.username || '—' %></span>

					<!-- Edit Button -->
					<button
						id="edit-username-btn"
						type="button"
						class="btn btn-sm btn-outline-secondary ms-2"
					>
						<i class="bi bi-pencil"></i>
					</button>

					<!-- Username Edit Form -->
					<form
						id="username-form"
						action="/auth/update-username"
						method="POST"
						class="inline-flex hidden"
					>
						<input
							type="text"
							name="username"
							value="<%= user.username || '' %>"
							class="form-control form-control-sm"
							required
							pattern="^[a-zA-Z0-9_.-]{3,50}$"
						/>
						<button type="submit" class="btn btn-sm btn-success">
							<i class="bi bi-check-lg"></i>
						</button>
						<button
							type="button"
							id="cancel-edit-btn"
							class="btn btn-sm btn-danger"
						>
							<i class="bi bi-x-lg"></i>
						</button>
					</form>
				</li>

				<li
					><strong><%= __('dashboard.email') %>:</strong> <%=
					user.email %></li
				>
				<li
					><strong><%= __('dashboard.created') %>:</strong> <%=
					user.created_at.toLocaleString() %></li
				>
				<li
					><strong><%= __('dashboard.last_login') %>:</strong> <%=
					user.last_login_at?.toLocaleString() || '—' %></li
				>
				<li>
					<strong><%= __('dashboard.auth_providers') %>:</strong>
					<% if (user.google_id) { %>
					<span class="badge bg-danger">Google</span>
					<% } %> <% if (user.github_id) { %>
					<span class="badge bg-dark">GitHub</span>
					<% } %> <% if (user.hashed_password) { %>
					<span class="badge bg-primary">Local</span>
					<% } %>
				</li>
			</ul>
			<form
				action="/auth/reset/request?originalUrl=dashboard"
				method="POST"
			>
				<input type="hidden" name="email" value="<%= user.email %>" />
				<button type="submit" class="btn btn-warning btn-sm">
					<%= __('dashboard.reset_password') %>
				</button>
			</form>
		</div>
	</div>

	<div id="our-subjects" class="row">
		<div class="col text-center">
			<h4><%= __('dashboard.projects_title') %></h4>
			<p class="text-muted"
				><%= __('dashboard.projects_description') %></p
			>
			<!-- Future: cards or grid -->
		</div>
	</div>
</section>
