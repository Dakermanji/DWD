<section class="container py-5">
	<h1 class="mb-4 text-center"><%= __('dashboard.title') %></h1>

	<div class="row mb-5">
		<div
			id="user-info"
			class="col-md-6 mx-auto bg-light rounded shadow p-4"
		>
			<h4><%= __('dashboard.account_info') %></h4>
			<ul class="list-unstyled">
				<li id="username-block">
					<strong><%= __('dashboard.username') %>:</strong>

					<span id="username-value"><%= user.username || 'â€”' %></span>

					<!-- Edit Button -->
					<button
						id="edit-username-btn"
						type="button"
						class="btn btn-sm btn-outline-secondary ms-2"
					>
						<i class="bi bi-pencil"></i>
					</button>

					<!-- Username Edit Form -->
					<div id="username-form" class="inline-flex hidden">
						<input
							type="text"
							id="username-input"
							class="form-control form-control-sm"
							value="<%= user.username || '' %>"
							required
							pattern="^[a-zA-Z0-9_.\-]{3,50}$"
							data-current="<%= user.username || '' %>"
						/>

						<button
							type="button"
							id="submit-username-btn"
							class="btn btn-sm btn-success"
						>
							<i class="bi bi-check-lg"></i>
						</button>

						<button
							type="button"
							id="cancel-edit-btn"
							class="btn btn-sm btn-danger"
						>
							<i class="bi bi-x-lg"></i>
						</button>
					</div>

					<div
						id="username-feedback"
						class="form-text small mt-1 text-muted"
					></div>
					<div
						id="username-messages"
						data-updated="<%= __('flash.auth.username_updated') %>"
						data-taken="<%= __('auth.username.taken') %>"
						data-invalid="<%= __('auth.username.invalid') %>"
						data-available="<%= __('auth.username.available') %>"
						data-error="<%= __('auth.username.error') %>"
					>
					</div>
				</li>

				<li
					><strong><%= __('dashboard.email') %>:</strong> <%=
					user.email %></li
				>
				<li
					><strong><%= __('dashboard.created') %>:</strong> <%=
					user.created_at.toLocaleString() %></li
				>
				<li
					><strong><%= __('dashboard.last_login') %>:</strong> <%=
					user.last_login_at?.toLocaleString() || 'â€”' %></li
				>
				<li>
					<strong><%= __('dashboard.auth_providers') %>:</strong>
					<% if (user.google_id) { %>
					<span class="badge bg-danger">Google</span>
					<% } %> <% if (user.github_id) { %>
					<span class="badge bg-dark">GitHub</span>
					<% } %> <% if (user.hashed_password) { %>
					<span class="badge bg-primary">Local</span>
					<% } %>
				</li>
			</ul>
			<form
				action="/auth/reset/request?originalUrl=dashboard"
				method="POST"
			>
				<input type="hidden" name="email" value="<%= user.email %>" />
				<button type="submit" class="btn btn-warning btn-sm">
					<%= __('dashboard.reset_password') %>
				</button>
			</form>
		</div>
	</div>

	<div id="our-subjects" class="row">
		<div class="col text-center">
			<h4><%= __('dashboard.projects_title') %></h4>
			<p class="text-muted"
				><%= __('dashboard.projects_description') %></p
			>
			<!-- Future: cards or grid -->
		</div>
	</div>
</section>
